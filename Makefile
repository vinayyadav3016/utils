############################ Project Defination #################################
PROJECTS=Projects
DIR     =
SRCS    =
EXES    =
SLIBS   =
DLIBS   =
#################################################################################
############################# Depenecy info ####################################
INCLUDES=
LIBS    =
CFLAGS  =-Wall -fPIC
LFLAGS  =
#################################################################################
################ Static Settings NO changes to be done ##########################
CC        =g++
OBJ_DIR   =build
BIN_DIR   =bin
LIB_DIR   =lib
SRC_DIR   =src
LIB_DIRP  =$(DIR)/lib/lib
INCLUDES += -Iinclude/
LFLAGS   += -Llib/
OBJS=$(addprefix $(OBJ_DIR)/, $(SRCS:.cpp=.o))
MAINS=$(addprefix $(BIN_DIR)/, $(EXES:.cpp=.bin))
SLIB=$(addprefix $(LIB_DIRP), $(SLIBS:.cpp=.a))
DLIB=$(addprefix $(LIB_DIRP), $(DLIBS:.cpp=.so))
#################################################################################
################################ Build all ######################################
all: $(DIRS) $(OBJS) $(SLIB) $(DLIB) $(MAINS)
#################################################################################
############################### Build bins ######################################
$(BIN_DIR)/%.bin: $(OBJ_DIR)/%.o
	$(CC) $(CFLAGS) $(INCLUDES) $(OBJS) $(LFLAGS) $(LIBS) $(DLIB) $(SLIB) $< -o $@
#################################################################################
############################### Static libraris #################################
$(LIB_DIRP)%.a: $(OBJ_DIR)/%.o
	ar   rcs $@ $^
#################################################################################
############################### Dynamic libraries ###############################
$(LIB_DIRP)%.so: $(OBJ_DIR)/%.o
	$(CC) -shared $(LFLAGS) -shared -o $@ $^
#################################################################################
############################### Building objects ################################
$(OBJ_DIR)/%.o: $(SRC_DIR)/%.cpp
	$(CC) $(CFLAGS) $(INCLUDES) -c $<  -o $@
#################################################################################
################################## Make dirs ####################################
DIRS:
	mkdir -p $(BIN_DIR) $(LIB_DIR) $(OBJ_DIR)
#################################################################################
################################ Clean Build files ##############################
clean:
	rm -rf $(OBJS) $(MAINS) $(SLIB) $(DLIB)
#################################################################################
################################# Clean Build Dirs ##############################
cleanDir:
	rm -rf $(OBJ_DIR) $(BIN_DIR) $(LIB_DIR)
#################################################################################
##################################### Makedepend # ##############################
depend:
	echo "Depend"
#################################################################################
.PHONY: depend clean cleanDir
